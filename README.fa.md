**Language / زبان:** [English](README.md) | [فارسی](README.fa.md)

<p align="center"><img src="logo.png" alt="SSH Plus Manager" width="280"></p>

# SSH Plus Manager

یک ابزار مبتنی بر ترمینال برای کاربران SSH و سرویس‌های شبکه روی سرورهای لینوکس. ایجاد و حذف کاربر، تنظیم رمز عبور و تاریخ انقضا، محدود کردن تعداد اتصال هم‌زمان، مانیتور ترافیک و مدیریت OpenSSH، Dropbear، OpenVPN، Squid، SOCKS، تونل SSL و SSLH — همه از طریق یک منو.

---

## قابلیت‌ها

### مدیریت کاربران

| | |
|--------|-------|
| افزودن کاربران SSH با رمز عبور، تاریخ انقضا و محدودیت اتصال. پشتیبانی از ساخت فایل OpenVPN (.ovpn). | **ایجاد کاربر** |
| حذف یک کاربر یا همه کاربران؛ حذف رکورد کاربر از پایگاه داده متمرکز `users.db` و پاک‌سازی گواهی‌های OpenVPN. | **حذف کاربر** |
| تغییر رمز عبور کاربر از طریق سرویس (`chpasswd`) و همگام نگه داشتن `users.db`. | **تغییر رمز عبور** |
| مشاهده همه کاربران با وضعیت انقضا، تغییر تاریخ انقضا، فهرست/حذف کاربران منقضی‌شده — همه در یک صفحه. | **مدیریت انقضا** |
| تنظیم حداکثر تعداد اتصال هم‌زمان برای هر کاربر (ذخیره‌شده در `users.db`). | **محدودیت حساب** |

### مانیتورینگ و ترافیک

| | |
|--------|-------|
| جدول زنده: آنلاین/آفلاین/منقضی/در حال انقضا، تعداد اتصال‌ها، زمان نشست، ترافیک دانلود/آپلود، اعتبار، آخرین زمان مشاهده. امکان باز کردن برای دیدن اتصال‌های تکی. بازه به‌روزرسانی خودکار قابل تنظیم است. | **مانیتور کاربران** |
| اجرای تست سرعت دانلود/آپلود (با استفاده از `speedtest-cli`). | **تست سرعت** |
| نمایش زنده ترافیک شبکه با `nload` (برای خروج Ctrl+C). | **ترافیک VPS** |
| نام میزبان، IPv4/IPv6، سیستم‌عامل، کرنل، زمان روشن بودن، مصرف RAM/CPU/دیسک، پورت‌های در حال گوش‌دادن، تعداد اتصال‌های SSH/Dropbear/OpenVPN. | **اطلاعات VPS** |

### حالت‌های اتصال و سرویس‌ها

| | |
|--------|-------|
| زیرمنو: OpenSSH (چندپورته)، پراکسی Squid، Dropbear، OpenVPN، پراکسی SOCKS (SSH + OpenVPN)، تونل SSL (stunnel)، مالتی‌پلکسر SSLH. نصب، تنظیم پورت‌ها و مدیریت هر سرویس. | **اتصال‌ها** |
| افزودن/حذف پورت‌های SSH از طریق `sshd_config` و سوکت systemd؛ قوانین UFW اعمال می‌شوند. | **SSH چندپورته** |

### سیستم و نگهداری

| | |
|--------|-------|
| ری‌استارت SSH (و سرویس‌های مرتبط) | **راه‌اندازی مجدد سرویس‌ها** |
| ریبوت سرور |  **راه‌اندازی مجدد سیستم** |**راه‌اندازی مجدد سرویس‌ها** |
| تغییر رمز عبور روت، منطقه زمانی، چیدمان صفحه‌کلید، نام سرور، تنظیمات حریم خصوصی/لاگ‌گیری و بازه به‌روزرسانی خودکار. | **تنظیمات سرور** |
| تنظیم بنر ورود SSH (مثلاً IP، متن خوش‌آمدگویی؛ با استفاده از `figlet`). | **بنر** |
| پشتیبان‌گیری از فهرست کاربران و داده‌های مرتبط با مدیر. | **پشتیبان‌گیری** |

### چرخه عمر اسکریپت

| | |
|--------|-------|
| فعال/غیرفعال کردن «اجرای `menu` هنگام ورود» (افزودن/حذف از `/etc/profile`) | **اجرای خودکار** |
| بررسی نسخه مخزن و به‌روزرسانی همه فایل‌های اسکریپت از مخزن | **به‌روزرسانی اسکریپت** |
| حذف کامل اسکریپت‌های | **حذف اسکریپت** |

---

## نصب

**یکی** از این دستورات را روی سرور خود به‌عنوان **root** اجرا کنید (اولی اگر `curl` دارید، دومی اگر `wget` دارید):

```bash
# curl:
bash <(curl -Ls https://raw.githubusercontent.com/namnamir/SSH-Plus-Manager/main/install.sh)
````

```bash
# wget:
wget -qO- https://raw.githubusercontent.com/namnamir/SSH-Plus-Manager/main/install.sh | bash
```

**نیازمندی‌ها:** دسترسی root، `curl` یا `wget` و یک سیستم مبتنی بر Debian/Ubuntu. نصب‌کننده وابستگی‌ها را نصب می‌کند (مانند `wget`، `curl`، `screen`، `nano`، `python3`، `nload`، `figlet`، `speedtest-cli`).

---

## استفاده

پس از نصب، دستور زیر را اجرا کنید:

```bash
menu
```

یا نام مستعار کوتاه:

```bash
h
```

در زیرمنوها، **0** = بازگشت، **00** = خروج.

---

## ساختار پروژه

چیدمان نصب‌شده (پس از `install.sh` + `Install/list`):

* اسکریپت‌ها: `/bin/` (مثلا `/bin/menu`، `/bin/createuser`).
* ماژول‌ها: `colors`، `db`، `open.py`، `proxy.py` در `/etc/SSHPlus/`.
* پایگاه داده: `$HOME/users.db` (۹ فیلد برای هر کاربر).
* لاگ نشست‌ها (فقط افزایشی): `$HOME/sessions.log`.
* اطلاعات بیشتر در **[README.md](README.md)**
---

## مستندات

* همه گزینه‌های منو و رفتارها: **[docs/USAGE.fa.md](docs/USAGE.fa.md)**
* مشکلات رایج و راه‌حل‌ها: **[docs/TROUBLESHOOTING.fa.md](docs/TROUBLESHOOTING.fa.md)**
* راه‌اندازی SSH چندپورته (systemd + UFW): **[docs/SSH-MULTIPORT.fa.md](docs/SSH-MULTIPORT.fa.md)**

---

## مشارکت

لطفاً قراردادهای **[README.md](README.md)** را دنبال کنید تا پروژه منسجم و قابل نگهداری بماند.

---

## مجوز

این پروژه تحت مجوز MIT منتشر شده است — برای جزئیات فایل [LICENSE](LICENSE) را ببینید.